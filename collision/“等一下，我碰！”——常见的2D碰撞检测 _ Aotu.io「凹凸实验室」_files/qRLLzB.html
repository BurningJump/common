<!DOCTYPE html>
<!-- saved from url=(0164)https://codepen.io/JChehe/embed/qRLLzB?height=307&theme-id=0&slug-hash=qRLLzB&default-tab=result&user=JChehe&embed-version=2&pen-title=pixel%20collision%20detection -->
<html lang="en" class="js pc"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  

  <meta name="viewport" content="width=device-width">

  <title>CodePen Embed - pixel collision detection</title>

  <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="lPgE9MpBjbLCVOU9VCwuRhPxkJPFD5TQlkMYPMG1ntDwnLAJxW/Iomtcfuj5K+RuBYhTyKgNRfa4R/Mz/8RCAg==">

  <!-- STYLES -->
  <link rel="stylesheet" media="all" href="./embed-6fe83d38e291558fd5451d494fbfbd194507de48e28d816b36e5692dcba07652.css">

  <style>
    .hide {
      display: none !important;
    }
    .embed-nav {
      background: #3d3d3e;
      
    }
    .embed-nav ul a,
    .action-button {
      color: #ffffff;
      background-color: #666666;
    }
    .embed-nav ul a.active {
      background: #888888;
      color: #ffffff;
      box-shadow: inset 0px 3px #dddddd;
    }
    .embed-nav .logo-wrap a {
      color: #ffffff;
    }
    .embed-nav .cp-embed-logo, .embed-nav #icon-codepen-box {
      fill: #ffffff !important;
    }
  </style>

  <link rel="stylesheet" media="all" href="./twilight-2cb75eda672e6bf9b693686a681374f37c6ea158ece367b9833d6254e47dffe8.css">


  <script async="" src="./analytics.js.下载"></script>


</head>

<body onload="resizeEmbedWindow();" id="the-body" style="border: 1px solid #555555;" class="codepen-embed-body">

  <div class="embed-nav group" id="embed-nav">

  <ul class="code-types">

      <li class="code-type">
        <a id="html-link" href="https://codepen.io/JChehe/embed/qRLLzB?height=307&amp;theme-id=0&amp;slug-hash=qRLLzB&amp;default-tab=result&amp;user=JChehe&amp;embed-version=2&amp;pen-title=pixel%20collision%20detection#html-box" aria-pressed="false" role="button">
          HTML
        </a>
      </li>

      <li class="code-type">
        <a id="css-link" href="https://codepen.io/JChehe/embed/qRLLzB?height=307&amp;theme-id=0&amp;slug-hash=qRLLzB&amp;default-tab=result&amp;user=JChehe&amp;embed-version=2&amp;pen-title=pixel%20collision%20detection#css-box" aria-pressed="false" role="button">
          CSS
        </a>
      </li>

      <li class="code-type">
        <a id="js-link" href="https://codepen.io/JChehe/embed/qRLLzB?height=307&amp;theme-id=0&amp;slug-hash=qRLLzB&amp;default-tab=result&amp;user=JChehe&amp;embed-version=2&amp;pen-title=pixel%20collision%20detection#js-box" aria-pressed="false" role="button">
          JS
        </a>
      </li>

    <li class="results results-type">
      <a id="result-link" href="https://codepen.io/JChehe/embed/qRLLzB?height=307&amp;theme-id=0&amp;slug-hash=qRLLzB&amp;default-tab=result&amp;user=JChehe&amp;embed-version=2&amp;pen-title=pixel%20collision%20detection#result-box" class="active" aria-pressed="true" role="button">
        Result
      </a>
    </li>
  </ul>

  <div class="logo-wrap" id="edit-area">
    <a class="large-logo edit-on-codepen" target="_blank" rel="noopener" href="https://codepen.io/JChehe/pen/qRLLzB" title="Edit on CodePen">
      <span id="edit-on-text" class="open-on">EDIT ON</span>
      <svg id="embed-codepen-logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="411.438px" height="74.257px" viewBox="0 0 411.438 74.257" enable-background="new 0 0 411.438 74.257" xml:space="preserve">
  <g>
    <path class="cp-embed-logo" d="M25.857 18.232c4.618 0 8.85 1.67 12.14 4.429l4.472-5.33c-4.496-3.779-10.29-6.061-16.61-6.061 C11.6 11.27 0 22.87 0 37.128c0 14.26 11.6 25.86 25.86 25.856c6.32 0 12.114-2.282 16.61-6.061l-4.472-5.33 c-3.286 2.761-7.521 4.429-12.139 4.429c-10.419 0-18.896-8.476-18.896-18.894C6.962 26.71 15.44 18.23 25.86 18.232z"></path>
    <path class="cp-embed-logo" d="M168.993 12.763H155.07c-1.922 0-3.48 1.559-3.48 3.48v41.769c0 1.92 1.56 3.48 3.48 3.48h13.923 c13.436 0 24.365-10.93 24.365-24.365C193.358 23.69 182.43 12.76 168.99 12.763z M168.993 54.532h-10.442V19.725h10.442 c9.597 0 17.4 7.81 17.4 17.404C186.397 46.73 178.59 54.53 168.99 54.532z"></path>
    <path class="cp-embed-logo" d="M212.206 16.244v41.769c0 1.92 1.56 3.48 3.48 3.48h29.007v-6.961h-25.525V40.608h16.243v-6.961h-16.243 V19.725h25.525v-6.961h-29.007C213.765 12.76 212.21 14.32 212.21 16.244z"></path>
    <path class="cp-embed-logo" d="M317.569 16.244v41.769c0 1.92 1.56 3.48 3.48 3.48h29.006v-6.961H324.53V40.608h16.244v-6.961H324.53 V19.725h25.525v-6.961H321.05C319.128 12.76 317.57 14.32 317.57 16.244z"></path>
    <path class="cp-embed-logo" d="M284.443 12.763h-15.084c-1.922 0-3.48 1.559-3.48 3.48v45.25h6.962V40.608h11.603 c7.677 0 13.923-6.246 13.923-13.922C298.366 19.01 292.12 12.76 284.44 12.763z M284.443 33.647h-11.603V19.725h11.603 c3.839 0 6.96 3.12 6.96 6.961S288.282 33.65 284.44 33.647z"></path>
    <path class="cp-embed-logo" d="M404.476 12.763v35.636l-28.652-34.384c-0.938-1.127-2.481-1.545-3.859-1.045 c-1.378 0.5-2.296 1.808-2.296 3.273v45.25h6.962V25.858l28.652 34.383c0.675 0.81 1.66 1.25 2.67 1.25 c0.396 0 0.797-0.066 1.185-0.207c1.378-0.5 2.296-1.808 2.296-3.273v-45.25H404.476z"></path>
    <path class="cp-embed-logo" d="M131.815 25.261c-0.017-0.09-0.032-0.18-0.056-0.268c-0.015-0.053-0.033-0.103-0.05-0.155 c-0.025-0.078-0.051-0.156-0.082-0.232c-0.022-0.053-0.047-0.104-0.071-0.155c-0.034-0.072-0.069-0.143-0.109-0.212 c-0.028-0.051-0.06-0.099-0.091-0.148c-0.043-0.066-0.087-0.131-0.135-0.194c-0.035-0.047-0.071-0.092-0.109-0.137 c-0.05-0.06-0.104-0.117-0.158-0.173c-0.042-0.042-0.084-0.084-0.128-0.125c-0.058-0.053-0.118-0.103-0.181-0.151 c-0.048-0.037-0.095-0.075-0.145-0.109c-0.018-0.013-0.034-0.028-0.053-0.04L96.511 0.536c-1.071-0.715-2.468-0.715-3.539 0 L59.034 23.161c-0.019 0.012-0.034 0.027-0.053 0.04c-0.05 0.035-0.097 0.072-0.145 0.109c-0.062 0.049-0.123 0.099-0.181 0.15 c-0.044 0.04-0.086 0.082-0.127 0.125c-0.056 0.056-0.108 0.113-0.159 0.173c-0.038 0.045-0.074 0.09-0.109 0.14 c-0.048 0.063-0.092 0.127-0.135 0.194c-0.031 0.049-0.062 0.097-0.091 0.148c-0.04 0.069-0.075 0.14-0.108 0.21 c-0.024 0.051-0.05 0.103-0.071 0.155c-0.031 0.076-0.058 0.154-0.083 0.232c-0.017 0.052-0.035 0.103-0.049 0.15 c-0.023 0.088-0.04 0.177-0.056 0.268c-0.009 0.046-0.02 0.091-0.026 0.138c-0.018 0.138-0.028 0.276-0.028 0.417V48.44 c0 0.14 0.01 0.28 0.03 0.417c0.007 0.05 0.02 0.09 0.03 0.138c0.016 0.09 0.03 0.18 0.06 0.27 c0.014 0.05 0.03 0.1 0.05 0.155c0.025 0.08 0.05 0.16 0.08 0.233c0.021 0.05 0.05 0.1 0.07 0.15 c0.033 0.07 0.07 0.14 0.11 0.213c0.028 0.05 0.06 0.1 0.09 0.146c0.043 0.07 0.09 0.13 0.14 0.19 c0.035 0.05 0.07 0.09 0.11 0.138c0.051 0.06 0.1 0.12 0.16 0.173c0.041 0.04 0.08 0.09 0.13 0.12 c0.058 0.05 0.12 0.1 0.18 0.152c0.048 0.04 0.1 0.07 0.14 0.109c0.019 0.01 0.03 0.03 0.05 0.039L92.972 73.72 c0.536 0.36 1.15 0.54 1.77 0.537s1.234-0.18 1.77-0.537l33.938-22.625c0.019-0.012 0.035-0.026 0.053-0.039 c0.05-0.035 0.097-0.072 0.145-0.109c0.062-0.049 0.123-0.1 0.181-0.152c0.044-0.039 0.086-0.082 0.128-0.124 c0.055-0.056 0.108-0.113 0.158-0.173c0.038-0.045 0.074-0.09 0.109-0.138c0.048-0.063 0.092-0.128 0.135-0.194 c0.031-0.048 0.062-0.097 0.091-0.146c0.04-0.07 0.075-0.141 0.109-0.213c0.024-0.051 0.049-0.102 0.071-0.154 c0.031-0.077 0.057-0.155 0.082-0.233c0.017-0.052 0.035-0.103 0.05-0.155c0.023-0.088 0.039-0.178 0.056-0.268 c0.008-0.046 0.02-0.091 0.025-0.138c0.018-0.138 0.028-0.276 0.028-0.417V25.816c0-0.141-0.011-0.279-0.028-0.417 C131.835 25.35 131.82 25.31 131.81 25.261z M94.741 44.677l-11.285-7.548l11.285-7.549l11.286 7.549L94.741 44.677z M91.551 24.037L77.717 33.29L66.55 25.82L91.551 9.153V24.037z M71.978 37.128l-7.982 5.339V31.789L71.978 37.128z M77.717 40.97 l13.834 9.252v14.884L66.55 48.437L77.717 40.968z M97.932 50.22l13.834-9.252l11.168 7.469L97.932 65.104V50.22z M117.505 37.13 l7.983-5.34v10.679L117.505 37.128z M111.766 33.29l-13.834-9.252V9.153l25.002 16.667L111.766 33.29z"></path>
  </g>
</svg>
    </a>
    <a class="box-logo edit-on-codepen" target="_blank" rel="noopener" href="https://codepen.io/JChehe/pen/qRLLzB" title="Edit on CodePen">
      <svg viewBox="0 0 100 100">
  <path id="icon-codepen-box" d="M99.961,34.205c-0.009-0.063-0.025-0.124-0.035-0.187c-0.021-0.121-0.043-0.242-0.075-0.36
    c-0.019-0.071-0.044-0.14-0.067-0.208c-0.034-0.105-0.068-0.21-0.11-0.312c-0.029-0.071-0.063-0.142-0.096-0.21
    c-0.045-0.097-0.092-0.192-0.146-0.284c-0.04-0.068-0.082-0.134-0.122-0.2c-0.058-0.089-0.117-0.176-0.182-0.26
    c-0.047-0.063-0.097-0.126-0.147-0.187c-0.068-0.079-0.139-0.158-0.214-0.232c-0.056-0.058-0.112-0.115-0.171-0.168
    c-0.079-0.071-0.161-0.14-0.243-0.205c-0.064-0.05-0.128-0.1-0.195-0.147c-0.025-0.016-0.047-0.037-0.071-0.053L52.383,0.722
    c-1.444-0.962-3.323-0.962-4.767,0L1.914,31.19c-0.024,0.016-0.046,0.037-0.071,0.053c-0.067,0.047-0.13,0.098-0.193,0.147
    c-0.084,0.065-0.166,0.134-0.243,0.205c-0.061,0.053-0.116,0.11-0.172,0.168c-0.075,0.074-0.146,0.153-0.213,0.232
    c-0.051,0.061-0.101,0.124-0.148,0.187c-0.063,0.084-0.124,0.171-0.18,0.26c-0.043,0.066-0.084,0.132-0.124,0.2
    c-0.053,0.092-0.1,0.187-0.146,0.284c-0.033,0.068-0.067,0.139-0.096,0.21c-0.042,0.103-0.076,0.208-0.11,0.312
    c-0.022,0.068-0.047,0.137-0.067,0.208c-0.031,0.119-0.052,0.239-0.075,0.36c-0.011,0.063-0.026,0.124-0.034,0.187
    C0.014,34.389,0,34.576,0,34.765v30.468c0,0.189,0.014,0.376,0.04,0.563c0.008,0.061,0.023,0.124,0.034,0.184
    c0.022,0.121,0.043,0.242,0.075,0.36c0.02,0.071,0.045,0.14,0.067,0.208c0.034,0.105,0.068,0.21,0.11,0.315
    c0.029,0.071,0.063,0.14,0.096,0.208c0.046,0.097,0.094,0.191,0.146,0.287c0.039,0.066,0.08,0.131,0.124,0.197
    c0.056,0.089,0.117,0.176,0.18,0.261c0.047,0.065,0.097,0.126,0.148,0.187c0.067,0.079,0.138,0.158,0.213,0.231
    c0.057,0.058,0.112,0.115,0.172,0.168c0.078,0.071,0.159,0.14,0.243,0.206c0.063,0.05,0.126,0.1,0.193,0.147
    c0.025,0.016,0.047,0.037,0.071,0.053l45.703,30.469C48.338,99.758,49.169,100,50,100c0.83,0,1.661-0.242,2.383-0.723
    l45.703-30.469c0.024-0.016,0.045-0.037,0.071-0.053c0.067-0.047,0.13-0.097,0.195-0.147c0.083-0.066,0.164-0.134,0.243-0.206
    c0.059-0.053,0.115-0.11,0.171-0.168c0.075-0.074,0.146-0.153,0.214-0.231c0.05-0.061,0.1-0.121,0.147-0.187
    c0.065-0.084,0.124-0.171,0.182-0.261c0.041-0.066,0.083-0.131,0.122-0.197c0.054-0.095,0.101-0.189,0.146-0.287
    c0.033-0.068,0.067-0.137,0.096-0.208c0.042-0.105,0.076-0.21,0.11-0.315c0.022-0.068,0.048-0.137,0.067-0.208
    c0.032-0.118,0.054-0.239,0.075-0.36c0.01-0.061,0.026-0.124,0.035-0.184C99.985,65.61,100,65.423,100,65.233V34.765
    C100,34.576,99.985,34.389,99.961,34.205z M54.297,12.327l33.668,22.444L72.927,44.831L54.297,32.369V12.327z M45.703,12.327
    v20.042L27.074,44.831l-15.04-10.061L45.703,12.327z M8.594,42.809L19.345,50L8.594,57.19V42.809z M45.703,87.672L12.035,65.228
    l15.04-10.058L45.703,67.63V87.672z M50,60.165L34.802,50L50,39.833L65.198,50L50,60.165z M54.297,87.672V67.63L72.927,55.17
    l15.039,10.058L54.297,87.672z M91.405,57.19L80.656,50l10.75-7.191V57.19z"></path>
</svg>
    </a>
  </div>

</div>

  <div id="output" class=" static" data-border-style="thin" data-header="true" style="height: calc(100% - 50px);">

      <div id="html-box" class="code-wrap code-box box " role="region" aria-label="HTML">


          <pre><code data-lang="xml" id="actual-html-code" data-og-lang="xml" data-alt-lang="xml" class=" cm-s-default"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>实际显示的canvas<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span><br><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">canvas</span> <span class="cm-attribute">id</span>=<span class="cm-string">"canvas"</span> <span class="cm-attribute">width</span>=<span class="cm-string">"200"</span> <span class="cm-attribute">height</span>=<span class="cm-string">"100"</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">canvas</span><span class="cm-tag cm-bracket">&gt;</span><br><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">id</span>=<span class="cm-string">"offscreenCanvasWrap"</span><span class="cm-tag cm-bracket">&gt;</span><br>  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">class</span>=<span class="cm-string">"panda"</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>熊猫离屏渲染：<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span><br>  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">class</span>=<span class="cm-string">"bamboo"</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>竹子离屏渲染<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span><br><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></code></pre>

      </div>

      <div id="css-box" class="code-wrap code-box box " role="region" aria-label="CSS">


          <pre><code data-lang="css" id="actual-css-code" data-og-lang="css" data-alt-lang="css" class=" cm-s-default">* {<br>    <span class="cm-property">margin</span>: <span class="cm-number">0</span>;<br>    <span class="cm-property">padding</span>: <span class="cm-number">0</span>;<br>}<br><br><span class="cm-tag">canvas</span> {<br>    <span class="cm-property">border</span>: <span class="cm-number">1px</span> <span class="cm-atom">solid</span> <span class="cm-keyword">orange</span>;<br>    <span class="cm-property">margin</span>: <span class="cm-number">0</span> <span class="cm-atom">auto</span>;<br>    <span class="cm-property">display</span>: <span class="cm-atom">block</span>;<br>}<br><br><span class="cm-tag">body</span> {<br>  <span class="cm-property">text-align</span>: <span class="cm-atom">center</span>;<br>}<br><br><span class="cm-builtin">#offscreenCanvasWrap</span> {<br>  <span class="cm-property">text-align</span>: <span class="cm-atom">center</span>;<br>}<br><span class="cm-builtin">#offscreenCanvasWrap</span> &gt; <span class="cm-tag">div</span> {<br>  <span class="cm-property">display</span>: <span class="cm-atom">inline-block</span>;<br>  <span class="cm-property">width</span>: <span class="cm-number">202px</span>;<br>  <span class="cm-property">text-align</span>: <span class="cm-atom">left</span>;;<br>}</code></pre>

      </div>


      <div id="js-box" class="code-wrap code-box box " role="region" aria-label="JS">


          <pre><code data-lang="" id="actual-js-code" data-og-lang="" data-alt-lang="javascript" class=" cm-s-default"><span class="cm-keyword">function</span> <span class="cm-def">KeyPress</span>() {<br>    <span class="cm-keyword">this</span>.<span class="cm-property">keyListeners</span> <span class="cm-operator">=</span> []<br>}<br><br><span class="cm-variable">KeyPress</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> {<br>    <span class="cm-property">addKeyListener</span>: <span class="cm-keyword">function</span>(<span class="cm-def">keyAndListener</span>) {<br>        <span class="cm-keyword">this</span>.<span class="cm-property">keyListeners</span>.<span class="cm-property">push</span>(<span class="cm-variable-2">keyAndListener</span>)<br>    },<br><br>    <span class="cm-property">findKeyListener</span>: <span class="cm-keyword">function</span>(<span class="cm-def">key</span>) {<br>        <span class="cm-keyword">var</span> <span class="cm-def">listener</span> <span class="cm-operator">=</span> <span class="cm-atom">undefined</span><br><br>        <span class="cm-keyword">this</span>.<span class="cm-property">keyListeners</span>.<span class="cm-property">forEach</span>(<span class="cm-keyword">function</span>(<span class="cm-def">keyAndListener</span>) {<br>            <span class="cm-keyword">var</span> <span class="cm-def">currentKey</span> <span class="cm-operator">=</span> <span class="cm-variable-2">keyAndListener</span>.<span class="cm-property">key</span><br>            <span class="cm-keyword">if</span>(<span class="cm-variable-2">currentKey</span> <span class="cm-operator">===</span> <span class="cm-variable-2">key</span>) {<br>                <span class="cm-variable-2">listener</span> <span class="cm-operator">=</span> <span class="cm-variable-2">keyAndListener</span>.<span class="cm-property">listener</span><br>            }<br>        })<br><br>        <span class="cm-keyword">return</span> <span class="cm-variable-2">listener</span><br>    },<br><br>    <span class="cm-property">keyPressed</span>: <span class="cm-keyword">function</span>(<span class="cm-def">e</span>) {<br>        <span class="cm-keyword">var</span> <span class="cm-def">listener</span> <span class="cm-operator">=</span> <span class="cm-atom">undefined</span>,<br>            <span class="cm-def">key</span> <span class="cm-operator">=</span> <span class="cm-atom">undefined</span><br><br>        <span class="cm-keyword">switch</span> (<span class="cm-variable-2">e</span>.<span class="cm-property">keyCode</span>) {<br>            <span class="cm-keyword">case</span> <span class="cm-number">32</span>: <span class="cm-variable-2">key</span> <span class="cm-operator">=</span> <span class="cm-string">'space'</span>; <span class="cm-keyword">break</span>;<br>            <span class="cm-keyword">case</span> <span class="cm-number">37</span>: <span class="cm-variable-2">key</span> <span class="cm-operator">=</span> <span class="cm-string">'left'</span>; <span class="cm-keyword">break</span>;<br>            <span class="cm-keyword">case</span> <span class="cm-number">39</span>: <span class="cm-variable-2">key</span> <span class="cm-operator">=</span> <span class="cm-string">'right'</span>; <span class="cm-keyword">break</span>;<br>            <span class="cm-keyword">case</span> <span class="cm-number">38</span>: <span class="cm-variable-2">key</span> <span class="cm-operator">=</span> <span class="cm-string">'up'</span>; <span class="cm-keyword">break</span>;<br>            <span class="cm-keyword">case</span> <span class="cm-number">40</span>: <span class="cm-variable-2">key</span> <span class="cm-operator">=</span> <span class="cm-string">'down'</span>; <span class="cm-keyword">break</span>;<br>        }<br>        <span class="cm-variable-2">listener</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-property">findKeyListener</span>(<span class="cm-variable-2">key</span>)<br>        <span class="cm-keyword">if</span>(<span class="cm-variable-2">listener</span>) {<br>            <span class="cm-variable-2">listener</span>()<br>        }<br>    }<br>}<br><br><span class="cm-comment">// 业务代码..........</span><br><span class="cm-keyword">var</span> <span class="cm-def">onscreenCanvas</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">getElementById</span>(<span class="cm-string">'canvas'</span>),<br>    <span class="cm-def">onscreenContext</span> <span class="cm-operator">=</span> <span class="cm-variable">onscreenCanvas</span>.<span class="cm-property">getContext</span>(<span class="cm-string">'2d'</span>),<br>    <span class="cm-def">offscreenCanvasPanda</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElement</span>(<span class="cm-string">'canvas'</span>),<br>    <span class="cm-def">offscreenCanvasBamboo</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElement</span>(<span class="cm-string">'canvas'</span>),<br>    <span class="cm-def">offscreenContextPanda</span> <span class="cm-operator">=</span> <span class="cm-variable">offscreenCanvasPanda</span>.<span class="cm-property">getContext</span>(<span class="cm-string">'2d'</span>),<br>    <span class="cm-def">offscreenContextBamboo</span> <span class="cm-operator">=</span> <span class="cm-variable">offscreenCanvasBamboo</span>.<span class="cm-property">getContext</span>(<span class="cm-string">'2d'</span>),<br>    <span class="cm-def">imageBamboo</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Image</span>(),<br>    <span class="cm-def">imagePanda</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Image</span>();<br><br><span class="cm-keyword">var</span> <span class="cm-def">isCollisions</span> <span class="cm-operator">=</span> <span class="cm-atom">false</span><br><br><span class="cm-variable">offscreenCanvasPanda</span>.<span class="cm-property">id</span> <span class="cm-operator">=</span> <span class="cm-string-2">`panda`</span><br><span class="cm-variable">offscreenCanvasBamboo</span>.<span class="cm-property">id</span> <span class="cm-operator">=</span> <span class="cm-string-2">`bamboo`</span><br><br><span class="cm-variable">offscreenCanvasPanda</span>.<span class="cm-property">width</span> <span class="cm-operator">=</span> <span class="cm-variable">offscreenCanvasBamboo</span>.<span class="cm-property">width</span> <span class="cm-operator">=</span> <span class="cm-number">200</span><br><span class="cm-variable">offscreenCanvasPanda</span>.<span class="cm-property">height</span> <span class="cm-operator">=</span> <span class="cm-variable">offscreenCanvasBamboo</span>.<span class="cm-property">height</span> <span class="cm-operator">=</span> <span class="cm-number">100</span><br><br><span class="cm-keyword">var</span> <span class="cm-def">offscreenCanvasWrap</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">getElementById</span>(<span class="cm-string">'offscreenCanvasWrap'</span>)<br><span class="cm-variable">offscreenCanvasWrap</span>.<span class="cm-property">querySelector</span>(<span class="cm-string">'.panda'</span>).<span class="cm-property">appendChild</span>(<span class="cm-variable">offscreenCanvasPanda</span>)<br><span class="cm-variable">offscreenCanvasWrap</span>.<span class="cm-property">querySelector</span>(<span class="cm-string">'.bamboo'</span>).<span class="cm-property">appendChild</span>(<span class="cm-variable">offscreenCanvasBamboo</span>)<br><br><span class="cm-keyword">function</span> <span class="cm-def">Sprite</span>(<span class="cm-def">arg</span>) {<br>  <span class="cm-keyword">this</span>.<span class="cm-property">left</span> <span class="cm-operator">=</span> <span class="cm-variable-2">arg</span>.<span class="cm-property">left</span> <span class="cm-operator">||</span> <span class="cm-number">0</span><br>  <span class="cm-keyword">this</span>.<span class="cm-property">top</span> <span class="cm-operator">=</span> <span class="cm-variable-2">arg</span>.<span class="cm-property">top</span> <span class="cm-operator">||</span> <span class="cm-number">0</span><br>  <span class="cm-keyword">this</span>.<span class="cm-property">width</span> <span class="cm-operator">=</span> <span class="cm-variable-2">arg</span>.<span class="cm-property">width</span> <span class="cm-operator">||</span> <span class="cm-number">10</span><br>  <span class="cm-keyword">this</span>.<span class="cm-property">height</span> <span class="cm-operator">=</span> <span class="cm-variable-2">arg</span>.<span class="cm-property">height</span> <span class="cm-operator">||</span> <span class="cm-number">10</span><br>  <span class="cm-keyword">this</span>.<span class="cm-property">visible</span> <span class="cm-operator">=</span> <span class="cm-atom">true</span><br>  <span class="cm-keyword">this</span>.<span class="cm-property">image</span> <span class="cm-operator">=</span> <span class="cm-variable-2">arg</span>.<span class="cm-property">image</span><br>}<br><br><span class="cm-variable">Sprite</span>.<span class="cm-property">prototype</span> <span class="cm-operator">=</span> {<br>  <span class="cm-property">paint</span>: <span class="cm-keyword">function</span>(<span class="cm-def">context</span>) {<br>    <span class="cm-keyword">if</span>(<span class="cm-keyword">this</span>.<span class="cm-property">visible</span>) {<br>      <span class="cm-variable-2">context</span>.<span class="cm-property">save</span>()<br>      <span class="cm-variable-2">context</span>.<span class="cm-property">drawImage</span>(<span class="cm-keyword">this</span>.<span class="cm-property">image</span>, <span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-keyword">this</span>.<span class="cm-property">image</span>.<span class="cm-property">width</span>, <span class="cm-keyword">this</span>.<span class="cm-property">image</span>.<span class="cm-property">height</span>,<br>                        <span class="cm-keyword">this</span>.<span class="cm-property">left</span>, <span class="cm-keyword">this</span>.<span class="cm-property">top</span>, <span class="cm-keyword">this</span>.<span class="cm-property">width</span>, <span class="cm-keyword">this</span>.<span class="cm-property">height</span>)<br>      <span class="cm-variable-2">context</span>.<span class="cm-property">restore</span>()<br>    }<br>  }<br>}<br><br><span class="cm-keyword">function</span> <span class="cm-def">detectIntersection</span>(<span class="cm-def">rect1</span>, <span class="cm-def">rect2</span>) {<br>  <span class="cm-keyword">var</span> <span class="cm-def">rect2CenterX</span> <span class="cm-operator">=</span> <span class="cm-variable-2">rect2</span>.<span class="cm-property">left</span> <span class="cm-operator">+</span> <span class="cm-variable-2">rect2</span>.<span class="cm-property">width</span><span class="cm-operator">/</span><span class="cm-number">2</span>,<br>    <span class="cm-def">rect2CenterY</span> <span class="cm-operator">=</span> <span class="cm-variable-2">rect2</span>.<span class="cm-property">top</span> <span class="cm-operator">+</span> <span class="cm-variable-2">rect2</span>.<span class="cm-property">height</span><span class="cm-operator">/</span><span class="cm-number">2</span>,<br>    <span class="cm-def">rect1CenterX</span> <span class="cm-operator">=</span> <span class="cm-variable-2">rect1</span>.<span class="cm-property">left</span> <span class="cm-operator">+</span> <span class="cm-variable-2">rect1</span>.<span class="cm-property">width</span><span class="cm-operator">/</span><span class="cm-number">2</span>,<br>    <span class="cm-def">rect1CenterY</span> <span class="cm-operator">=</span> <span class="cm-variable-2">rect1</span>.<span class="cm-property">top</span> <span class="cm-operator">+</span> <span class="cm-variable-2">rect1</span>.<span class="cm-property">height</span><span class="cm-operator">/</span><span class="cm-number">2</span>;<br><br>    <span class="cm-comment">// 加上 = 就是相切</span><br>    <span class="cm-keyword">if</span>((<span class="cm-variable">Math</span>.<span class="cm-property">abs</span>(<span class="cm-variable-2">rect2CenterX</span> <span class="cm-operator">-</span> <span class="cm-variable-2">rect1CenterX</span>) <span class="cm-operator">&lt;</span> <span class="cm-variable-2">rect1</span>.<span class="cm-property">width</span> <span class="cm-operator">/</span> <span class="cm-number">2</span> <span class="cm-operator">+</span> <span class="cm-variable-2">rect2</span>.<span class="cm-property">width</span> <span class="cm-operator">/</span> <span class="cm-number">2</span>) <span class="cm-operator">&amp;&amp;</span><br>        <span class="cm-variable">Math</span>.<span class="cm-property">abs</span>(<span class="cm-variable-2">rect2CenterY</span> <span class="cm-operator">-</span> <span class="cm-variable-2">rect1CenterY</span>) <span class="cm-operator">&lt;</span> <span class="cm-variable-2">rect1</span>.<span class="cm-property">height</span> <span class="cm-operator">/</span> <span class="cm-number">2</span> <span class="cm-operator">+</span> <span class="cm-variable-2">rect2</span>.<span class="cm-property">height</span> <span class="cm-operator">/</span> <span class="cm-number">2</span>) {<br>      <span class="cm-keyword">return</span> <span class="cm-atom">true</span><br>    } <span class="cm-keyword">else</span> {<br>      <span class="cm-keyword">return</span> <span class="cm-atom">false</span><br>    }<br>}<br><br><span class="cm-keyword">function</span> <span class="cm-def">getIntersectionRect</span>(<span class="cm-def">rect1</span>, <span class="cm-def">rect2</span>) {<br>  <span class="cm-keyword">var</span> <span class="cm-def">rect1Right</span> <span class="cm-operator">=</span> <span class="cm-variable-2">rect1</span>.<span class="cm-property">left</span> <span class="cm-operator">+</span> <span class="cm-variable-2">rect1</span>.<span class="cm-property">width</span>,<br>    <span class="cm-def">rect1Bottom</span> <span class="cm-operator">=</span> <span class="cm-variable-2">rect1</span>.<span class="cm-property">top</span> <span class="cm-operator">+</span> <span class="cm-variable-2">rect1</span>.<span class="cm-property">height</span>,<br>    <span class="cm-def">rect2Right</span> <span class="cm-operator">=</span> <span class="cm-variable-2">rect2</span>.<span class="cm-property">left</span> <span class="cm-operator">+</span> <span class="cm-variable-2">rect2</span>.<span class="cm-property">width</span>,<br>    <span class="cm-def">rect2Bottom</span> <span class="cm-operator">=</span> <span class="cm-variable-2">rect2</span>.<span class="cm-property">top</span> <span class="cm-operator">+</span> <span class="cm-variable-2">rect2</span>.<span class="cm-property">height</span>;<br><br>  <span class="cm-keyword">var</span> <span class="cm-def">rect3Left</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">max</span>(<span class="cm-variable-2">rect1</span>.<span class="cm-property">left</span>, <span class="cm-variable-2">rect2</span>.<span class="cm-property">left</span>),<br>    <span class="cm-def">rect3Top</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">max</span>(<span class="cm-variable-2">rect1</span>.<span class="cm-property">top</span>, <span class="cm-variable-2">rect2</span>.<span class="cm-property">top</span>),<br>    <span class="cm-def">rect3Right</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">min</span>(<span class="cm-variable-2">rect1Right</span>, <span class="cm-variable-2">rect2Right</span>),<br>    <span class="cm-def">rect3Bottom</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">min</span>(<span class="cm-variable-2">rect1Bottom</span>, <span class="cm-variable-2">rect2Bottom</span>);<br><br>  <span class="cm-keyword">return</span> {<br>    <span class="cm-property">left</span>: <span class="cm-variable-2">rect3Left</span>,<br>    <span class="cm-property">top</span>: <span class="cm-variable-2">rect3Top</span>,<br>    <span class="cm-property">width</span>: <span class="cm-variable-2">rect3Right</span> <span class="cm-operator">-</span> <span class="cm-variable-2">rect3Left</span>,<br>    <span class="cm-property">height</span>: <span class="cm-variable-2">rect3Bottom</span> <span class="cm-operator">-</span> <span class="cm-variable-2">rect3Top</span><br>  }<br>}<br><br><span class="cm-comment">// rect 是交集矩形</span><br><span class="cm-keyword">function</span> <span class="cm-def">handleEgdeCollisions</span>(<span class="cm-def">rect</span>) {<br>  <span class="cm-comment">// console.log(rect)</span><br>  <span class="cm-keyword">var</span> <span class="cm-def">imgData1</span> <span class="cm-operator">=</span> <span class="cm-variable">offscreenContextPanda</span>.<span class="cm-property">getImageData</span>(<span class="cm-variable-2">rect</span>.<span class="cm-property">left</span>, <span class="cm-variable-2">rect</span>.<span class="cm-property">top</span>, <span class="cm-variable-2">rect</span>.<span class="cm-property">width</span>, <span class="cm-variable-2">rect</span>.<span class="cm-property">height</span>),<br>    <span class="cm-def">imgData2</span> <span class="cm-operator">=</span> <span class="cm-variable">offscreenContextBamboo</span>.<span class="cm-property">getImageData</span>(<span class="cm-variable-2">rect</span>.<span class="cm-property">left</span>, <span class="cm-variable-2">rect</span>.<span class="cm-property">top</span>, <span class="cm-variable-2">rect</span>.<span class="cm-property">width</span>, <span class="cm-variable-2">rect</span>.<span class="cm-property">height</span>);<br>  <span class="cm-keyword">var</span> <span class="cm-def">imgData1Data</span> <span class="cm-operator">=</span> <span class="cm-variable-2">imgData1</span>.<span class="cm-property">data</span><br>  <span class="cm-keyword">var</span> <span class="cm-def">imgData2Data</span> <span class="cm-operator">=</span> <span class="cm-variable-2">imgData2</span>.<span class="cm-property">data</span><br><br>  <span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>, <span class="cm-def">len</span> <span class="cm-operator">=</span> <span class="cm-variable-2">imgData1Data</span>.<span class="cm-property">length</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">len</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">+=</span> <span class="cm-number">4</span>) {<br>    <span class="cm-keyword">if</span>(<span class="cm-variable-2">imgData1Data</span>[<span class="cm-variable-2">i</span>] <span class="cm-operator">&gt;</span> <span class="cm-number">0</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable-2">imgData2Data</span>[<span class="cm-variable-2">i</span>] <span class="cm-operator">&gt;</span> <span class="cm-number">0</span>) {<br>      <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">'撞了'</span>)<br>      <span class="cm-keyword">return</span> <span class="cm-atom">true</span><br>    }<br>  }<br>  <span class="cm-keyword">return</span> <span class="cm-atom">false</span><br>}<br><br><span class="cm-keyword">var</span> <span class="cm-def">bamboo</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Sprite</span>({<br>  <span class="cm-property">width</span>: <span class="cm-number">30</span>,<br>  <span class="cm-property">height</span>: <span class="cm-number">30</span>,<br>  <span class="cm-property">left</span>: <span class="cm-number">60</span>,<br>  <span class="cm-property">top</span>: <span class="cm-number">10</span>,<br>  <span class="cm-property">image</span>: <span class="cm-variable">imageBamboo</span><br>})<br><br><span class="cm-keyword">var</span> <span class="cm-def">panda</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Sprite</span>({<br>  <span class="cm-property">width</span>: <span class="cm-number">30</span>,<br>  <span class="cm-property">height</span>: <span class="cm-number">30</span>,<br>  <span class="cm-property">top</span>: <span class="cm-number">10</span>,<br>  <span class="cm-property">left</span>: <span class="cm-number">10</span>,<br>  <span class="cm-property">image</span>: <span class="cm-variable">imagePanda</span><br>})<br><br><br><span class="cm-keyword">var</span> <span class="cm-def">keyPress</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">KeyPress</span>()<br>  <span class="cm-variable">keyPress</span>.<span class="cm-property">addKeyListener</span>({<br>  <span class="cm-property">key</span>: <span class="cm-string">'right'</span>,<br>  <span class="cm-property">listener</span>: <span class="cm-keyword">function</span>() {<br>    <span class="cm-variable">panda</span>.<span class="cm-property">left</span> <span class="cm-operator">+=</span> <span class="cm-number">1</span><br>  }<br>})<br><br><span class="cm-variable">keyPress</span>.<span class="cm-property">addKeyListener</span>({<br>  <span class="cm-property">key</span>: <span class="cm-string">'left'</span>,<br>  <span class="cm-property">listener</span>: <span class="cm-keyword">function</span>() {<br>    <span class="cm-variable">panda</span>.<span class="cm-property">left</span> <span class="cm-operator">-=</span> <span class="cm-number">1</span><br>  }<br>})<br><br><span class="cm-variable">keyPress</span>.<span class="cm-property">addKeyListener</span>({<br>  <span class="cm-property">key</span>: <span class="cm-string">'up'</span>,<br>  <span class="cm-property">listener</span>: <span class="cm-keyword">function</span>() {<br>    <span class="cm-variable">panda</span>.<span class="cm-property">top</span> <span class="cm-operator">-=</span> <span class="cm-number">1</span><br>  }<br>})<br><br><span class="cm-variable">keyPress</span>.<span class="cm-property">addKeyListener</span>({<br>  <span class="cm-property">key</span>: <span class="cm-string">'down'</span>,<br>  <span class="cm-property">listener</span>: <span class="cm-keyword">function</span>() {<br>    <span class="cm-variable">panda</span>.<span class="cm-property">top</span> <span class="cm-operator">+=</span> <span class="cm-number">1</span><br>  }<br>})<br><br><span class="cm-variable">window</span>.<span class="cm-property">addEventListener</span>(<span class="cm-string">'keypress'</span>, <span class="cm-keyword">function</span>(<span class="cm-def">e</span>) {<br>  <span class="cm-variable-2">e</span>.<span class="cm-property">preventDefault</span>()<br>  <span class="cm-variable">keypressHandle</span>(<span class="cm-variable-2">e</span>)<br>}, <span class="cm-atom">false</span>)<br><span class="cm-variable">window</span>.<span class="cm-property">addEventListener</span>(<span class="cm-string">'keydown'</span>, <span class="cm-keyword">function</span>(<span class="cm-def">e</span>) {<br>  <span class="cm-variable-2">e</span>.<span class="cm-property">preventDefault</span>()<br>  <span class="cm-variable">keypressHandle</span>(<span class="cm-variable-2">e</span>)<br>}, <span class="cm-atom">false</span>)<br><br><span class="cm-keyword">function</span> <span class="cm-def">draw</span>() {<br>  <span class="cm-variable">onscreenContext</span>.<span class="cm-property">clearRect</span>(<span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-variable">onscreenCanvas</span>.<span class="cm-property">width</span>, <span class="cm-variable">onscreenCanvas</span>.<span class="cm-property">height</span>)<br>  <span class="cm-variable">offscreenContextPanda</span>.<span class="cm-property">clearRect</span>(<span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-variable">offscreenCanvasPanda</span>.<span class="cm-property">width</span>, <span class="cm-variable">offscreenCanvasPanda</span>.<span class="cm-property">height</span>)<br>  <span class="cm-variable">offscreenContextBamboo</span>.<span class="cm-property">clearRect</span>(<span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-variable">offscreenContextBamboo</span>.<span class="cm-property">width</span>, <span class="cm-variable">offscreenContextBamboo</span>.<span class="cm-property">height</span>)<br><br>  <span class="cm-variable">bamboo</span>.<span class="cm-property">paint</span>(<span class="cm-variable">offscreenContextBamboo</span>)<br>  <span class="cm-variable">panda</span>.<span class="cm-property">paint</span>(<span class="cm-variable">offscreenContextPanda</span>)<br>  <span class="cm-variable">bamboo</span>.<span class="cm-property">paint</span>(<span class="cm-variable">onscreenContext</span>)<br>  <span class="cm-variable">panda</span>.<span class="cm-property">paint</span>(<span class="cm-variable">onscreenContext</span>)<br><br>  <span class="cm-variable">onscreenContext</span>.<span class="cm-property">save</span>()<br>  <span class="cm-variable">onscreenContext</span>.<span class="cm-property">font</span> <span class="cm-operator">=</span> <span class="cm-string">'16px Arial'</span>;<br><br>  <span class="cm-keyword">if</span>(<span class="cm-variable">isCollisions</span>) {<br>    <span class="cm-variable">onscreenContext</span>.<span class="cm-property">fillText</span>(<span class="cm-string">'collision'</span>, <span class="cm-number">15</span>, <span class="cm-variable">canvas</span>.<span class="cm-property">height</span> <span class="cm-operator">-</span> <span class="cm-number">10</span>);<br>  } <span class="cm-keyword">else</span> {<br>    <span class="cm-variable">onscreenContext</span>.<span class="cm-property">fillText</span>(<span class="cm-string">'通过↑↓←→键移动元素'</span>, <span class="cm-number">15</span>, <span class="cm-variable">canvas</span>.<span class="cm-property">height</span> <span class="cm-operator">-</span> <span class="cm-number">10</span>);<br>  }<br>  <span class="cm-variable">onscreenContext</span>.<span class="cm-property">restore</span>()<br>}<br><br><span class="cm-variable">imagePanda</span>.<span class="cm-property">onload</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>() {<br>  <span class="cm-variable">draw</span>()<br>}<br><br><span class="cm-keyword">function</span> <span class="cm-def">keypressHandle</span>(<span class="cm-def">e</span>) {<br>  <span class="cm-variable">keyPress</span>.<span class="cm-property">keyPressed</span>(<span class="cm-variable-2">e</span>)<br>  <span class="cm-keyword">if</span>(<span class="cm-variable">detectIntersection</span>(<span class="cm-variable">panda</span>, <span class="cm-variable">bamboo</span>)) {<br>    <span class="cm-keyword">var</span> <span class="cm-def">intersectionRect</span> <span class="cm-operator">=</span> <span class="cm-variable">getIntersectionRect</span>(<span class="cm-variable">panda</span>, <span class="cm-variable">bamboo</span>)<br>    <span class="cm-variable">isCollisions</span> <span class="cm-operator">=</span> <span class="cm-variable">handleEgdeCollisions</span>(<span class="cm-variable-2">intersectionRect</span>)<br>  }<br>  <span class="cm-variable">draw</span>()<br>}<br><br><br><span class="cm-variable">imageBamboo</span>.<span class="cm-property">src</span> <span class="cm-operator">=</span> <span class="cm-string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAA+VBMVEUAAAD/23j/02qM3XCL4G2L4W6P53CM4G2M4W6K5HCL4W2L42z/3HeM4mz/33CM4G3/23iM4W3/3HiM4G7/23Z9yW6N4m2M4W7/3HeM4G2M4G7/02uM4W6L4G3/12+M4W18yG6O4219ym3/0mj/1mP/3Hj/0Gb/0Wf/02v/3Xj03Hf71G/mt1W00XJ8x219yG7/02p9yG7/0mr/02z/1Wv/3Hh7yW7/23iAx3D/3HiM4W7/z2V9yG7/tFD/0m6H2G7/2XOAzm6I225/zG7/1m6D022L3m59ym3/23b/02rE03P/0We+vl/O1HSezXHfuVfv1XLv1HH302/ZYKBeAAAAOXRSTlMAwMAQ8IAg0KEwcEDhUBC/gLCg79HPYF/w4N/bkMCvn4A/8Ocfv/z3uH9x9+zh4N/PsKackmBfQCBAJBT6AAADfElEQVR42u2be1ebMBiH01GggJVitV21tZfNbbr7fcTMCh2o3XSX7/9hphB8KU1PIeyEnZ48f5f8Ht6QnJQQxMnJkbvA7vE2EgnEg4JIg5bLYAeJY4sl8BCJ49JlgcRxwMrfQuJ4/y3i3E3TQgI5OI34nlKoIaEcnsacw/0L5l0scAX5onkSG8AQFM2jtEANieeBFJACUkAKSAEpIAU2WKCPbatSgR7GoFCFgIrv0LuVCSh1HLHfFS4AJQAFoQJQAlAQKwAlAIWmUAEoAWBbwgVQAy9ga6IFNJxhqIgUgBIAbVOsgIaXsJXyAsa4eAmAtlFCwGiqjo4xNjlKAAYKl8DYHNo4weKYC4BGUQHDHOo4TYdrLgCMAgJa12njDCoC+EqQW0AZrri8ZAnyChj73PmACZcGXoAjmvkENCg+oHMsjShTQsgMbmK9gM7KV1BRmpjikcRAzyWglssHBjjGJ/cGawVgDgl58wGtDn1ADawcr+mc6LEhJID8uoG4MHHGAGYS+rbYjdlGgHX3+xm5hTsfcLIG6uLr6ivGdkkD+1E8uQghnxelkTGIh8Fjmn966VIO72ughR6J833I5xcY9xcNJspd/lN6/1F+zBY1+LJH4wOoP0fsWFUdG0ZzymDv1uDZeQRj00oZkRgvxBRdKxRtDtO5bIPVm1ajCcRTBgrHY7/OwGWCPr2m8T5O6JmoGEY9j8Euc9Mq6fxpavppoqJogxwGL1kCc4hP0e5rqCDN+nqD+XL+NTz6Gexu0THQxwwCb+qDwc3891mKP9c3hDLzPC/wM2VQC5bBWh4I8eRy23QYG5AfX1P8JBlCnMGxUCHMbD9A27M8Aj5eYr/LMQcDAQEYAq9Go9HbvZmXSGIWZql+mHoXqwVepAex7/uYRb3wmOxk+iH0g+QWb+a/zlI83/kcG4B0hoFqoOIoKl7Cn04m5HrV9wuKwwjv9ZsK4kRrLLXWQejEZdBiTiO9RkdDQGkFJ+pH9lR8X7ZEQe9DeDkF2uLApO25TKDnLFVVOxb6h1iqaRn/0TckKxYkgli9JBMHe1EqljfZZblA2H9M8iO/oJACUkAKSAEpIAWkgBSQAlJACkgBKSAFpIAUkAJSYFMEKn9NV/VRr8PqDruxj/sdI3GwDzweIYF8qPrI526JQ6+bcey38k2ryo9+o1pFh9+Bj7VMfIsz/y/lvfIaf2yiCQAAAABJRU5ErkJggg=='</span><br><span class="cm-variable">imagePanda</span>.<span class="cm-property">src</span> <span class="cm-operator">=</span> <span class="cm-string">'data:image/png;base64,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'</span><br></code></pre>

      </div>

    <div id="result-box" class="code-box active" role="region" aria-label="Result">

      <iframe id="result-iframe" sandbox="allow-scripts allow-pointer-lock allow-same-origin allow-popups allow-modals allow-forms" src="./qRLLzB(1).html" allowtransparency="true" frameborder="0" scrolling="yes" allowfullscreen="true" name="CodePen Preview for pixel collision detection" title="CodePen Preview for pixel collision detection" data-src="//s.codepen.io/JChehe/fullembedgrid/qRLLzB?type=embed&amp;animations=run">
      </iframe>

      <a href="https://codepen.io/JChehe/embed/qRLLzB?height=307&amp;theme-id=0&amp;slug-hash=qRLLzB&amp;default-tab=result&amp;user=JChehe&amp;embed-version=2&amp;pen-title=pixel%20collision%20detection#0" id="rerun-button" class="action-button rerun-button bottom right" onclick="EMBED.refreshResultIFrame(); return false;">
        Rerun
      </a>
    </div>

    
<div id="about-box">

  <div class="about-container">

    <div class="about-user">

      <div class="about-image" style="background-image: url(https://gravatar.com/avatar/7460ca1d282ff9f7adc112ad2f3b1e99?s=512&amp;d=https://codepen.io/assets/avatars/user-avatar-512x512-6e240cf350d2f1cc07c2bed234c3a3bb5f1b237023c204c782622e80d6b212ba.png)"></div>

      <div class="about-user-info">

        <p>
          This Pen is owned by <a href="https://codepen.io/JChehe" target="_blank">Jc</a> on CodePen.


          Check out @JChehe's
          <a href="https://codepen.io/JChehe" target="_blank" rel="noopener">
            12 Other Pens</a>
          .
        </p>

      </div>

    </div>

  </div>

</div>


  </div>


  <script>
    __processedPen = {"html":"&lt;p&gt;实际显示的canvas&lt;/p&gt;\n&lt;canvas id=&quot;canvas&quot; width=&quot;200&quot; height=&quot;100&quot;&gt;&lt;/canvas&gt;\n&lt;div id=&quot;offscreenCanvasWrap&quot;&gt;\n  &lt;div class=&quot;panda&quot;&gt;&lt;p&gt;熊猫离屏渲染：&lt;/p&gt;&lt;/div&gt;\n  &lt;div class=&quot;bamboo&quot;&gt;&lt;p&gt;竹子离屏渲染&lt;/p&gt;&lt;/div&gt;\n&lt;/div&gt;","css":"* {\n\tmargin: 0;\n\tpadding: 0;\n}\n\ncanvas {\n\tborder: 1px solid orange;\n\tmargin: 0 auto;\n\tdisplay: block;\n}\n\nbody {\n  text-align: center;\n}\n\n#offscreenCanvasWrap {\n  text-align: center;\n}\n#offscreenCanvasWrap &gt; div {\n  display: inline-block;\n  width: 202px;\n  text-align: left;;\n}","js":"function KeyPress() {\n\tthis.keyListeners = []\n}\n\nKeyPress.prototype = {\n\taddKeyListener: function(keyAndListener) {\n\t\tthis.keyListeners.push(keyAndListener)\n\t},\n\n\tfindKeyListener: function(key) {\n\t\tvar listener = undefined\n\n\t\tthis.keyListeners.forEach(function(keyAndListener) {\n\t\t\tvar currentKey = keyAndListener.key\n\t\t\tif(currentKey === key) {\n\t\t\t\tlistener = keyAndListener.listener\n\t\t\t}\n\t\t})\n\n\t\treturn listener\n\t},\n\n\tkeyPressed: function(e) {\n\t\tvar listener = undefined,\n\t\t\tkey = undefined\n\n\t\tswitch (e.keyCode) {\n\t\t\tcase 32: key = &#39;space&#39;; break;\n\t\t\tcase 37: key = &#39;left&#39;; break;\n\t\t\tcase 39: key = &#39;right&#39;; break;\n\t\t\tcase 38: key = &#39;up&#39;; break;\n\t\t\tcase 40: key = &#39;down&#39;; break;\n\t\t}\n\t\tlistener = this.findKeyListener(key)\n\t\tif(listener) {\n\t\t\tlistener()\n\t\t}\n\t}\n}\n\n// 业务代码..........\nvar onscreenCanvas = document.getElementById(&#39;canvas&#39;),\n    onscreenContext = onscreenCanvas.getContext(&#39;2d&#39;),\n    offscreenCanvasPanda = document.createElement(&#39;canvas&#39;),\n    offscreenCanvasBamboo = document.createElement(&#39;canvas&#39;),\n    offscreenContextPanda = offscreenCanvasPanda.getContext(&#39;2d&#39;),\n    offscreenContextBamboo = offscreenCanvasBamboo.getContext(&#39;2d&#39;),\n    imageBamboo = new Image(),\n    imagePanda = new Image();\n\nvar isCollisions = false\n\noffscreenCanvasPanda.id = `panda`\noffscreenCanvasBamboo.id = `bamboo`\n\noffscreenCanvasPanda.width = offscreenCanvasBamboo.width = 200\noffscreenCanvasPanda.height = offscreenCanvasBamboo.height = 100\n\nvar offscreenCanvasWrap = document.getElementById(&#39;offscreenCanvasWrap&#39;)\noffscreenCanvasWrap.querySelector(&#39;.panda&#39;).appendChild(offscreenCanvasPanda)\noffscreenCanvasWrap.querySelector(&#39;.bamboo&#39;).appendChild(offscreenCanvasBamboo)\n\nfunction Sprite(arg) {\n  this.left = arg.left || 0\n  this.top = arg.top || 0\n  this.width = arg.width || 10\n  this.height = arg.height || 10\n  this.visible = true\n  this.image = arg.image\n}\n\nSprite.prototype = {\n  paint: function(context) {\n    if(this.visible) {\n      context.save()\n      context.drawImage(this.image, 0, 0, this.image.width, this.image.height,\n                        this.left, this.top, this.width, this.height)\n      context.restore()\n    }\n  }\n}\n\nfunction detectIntersection(rect1, rect2) {\n  var rect2CenterX = rect2.left + rect2.width/2,\n    rect2CenterY = rect2.top + rect2.height/2,\n    rect1CenterX = rect1.left + rect1.width/2,\n    rect1CenterY = rect1.top + rect1.height/2;\n\n    // 加上 = 就是相切\n    if((Math.abs(rect2CenterX - rect1CenterX) &lt; rect1.width / 2 + rect2.width / 2) &amp;&amp;\n        Math.abs(rect2CenterY - rect1CenterY) &lt; rect1.height / 2 + rect2.height / 2) {\n      return true\n    } else {\n      return false\n    }\n}\n\nfunction getIntersectionRect(rect1, rect2) {\n  var rect1Right = rect1.left + rect1.width,\n    rect1Bottom = rect1.top + rect1.height,\n    rect2Right = rect2.left + rect2.width,\n    rect2Bottom = rect2.top + rect2.height;\n\n  var rect3Left = Math.max(rect1.left, rect2.left),\n    rect3Top = Math.max(rect1.top, rect2.top),\n    rect3Right = Math.min(rect1Right, rect2Right),\n    rect3Bottom = Math.min(rect1Bottom, rect2Bottom);\n\n  return {\n    left: rect3Left,\n    top: rect3Top,\n    width: rect3Right - rect3Left,\n    height: rect3Bottom - rect3Top\n  }\n}\n\n// rect 是交集矩形\nfunction handleEgdeCollisions(rect) {\n  // console.log(rect)\n  var imgData1 = offscreenContextPanda.getImageData(rect.left, rect.top, rect.width, rect.height),\n    imgData2 = offscreenContextBamboo.getImageData(rect.left, rect.top, rect.width, rect.height);\n  var imgData1Data = imgData1.data\n  var imgData2Data = imgData2.data\n\n  for(var i = 3, len = imgData1Data.length; i &lt; len; i += 4) {if (window.CP.shouldStopExecution(1)){break;}\n    if(imgData1Data[i] &gt; 0 &amp;&amp; imgData2Data[i] &gt; 0) {\n      console.log(&#39;撞了&#39;)\n      return true\n    }\n  }\nwindow.CP.exitedLoop(1);\n\n  return false\n}\n\nvar bamboo = new Sprite({\n  width: 30,\n  height: 30,\n  left: 60,\n  top: 10,\n  image: imageBamboo\n})\n\nvar panda = new Sprite({\n  width: 30,\n  height: 30,\n  top: 10,\n  left: 10,\n  image: imagePanda\n})\n\n\nvar keyPress = new KeyPress()\n  keyPress.addKeyListener({\n  key: &#39;right&#39;,\n  listener: function() {\n    panda.left += 1\n  }\n})\n\nkeyPress.addKeyListener({\n  key: &#39;left&#39;,\n  listener: function() {\n    panda.left -= 1\n  }\n})\n\nkeyPress.addKeyListener({\n  key: &#39;up&#39;,\n  listener: function() {\n    panda.top -= 1\n  }\n})\n\nkeyPress.addKeyListener({\n  key: &#39;down&#39;,\n  listener: function() {\n    panda.top += 1\n  }\n})\n\nwindow.addEventListener(&#39;keypress&#39;, function(e) {\n  e.preventDefault()\n  keypressHandle(e)\n}, false)\nwindow.addEventListener(&#39;keydown&#39;, function(e) {\n  e.preventDefault()\n  keypressHandle(e)\n}, false)\n\nfunction draw() {\n  onscreenContext.clearRect(0, 0, onscreenCanvas.width, onscreenCanvas.height)\n  offscreenContextPanda.clearRect(0, 0, offscreenCanvasPanda.width, offscreenCanvasPanda.height)\n  offscreenContextBamboo.clearRect(0, 0, offscreenContextBamboo.width, offscreenContextBamboo.height)\n\n  bamboo.paint(offscreenContextBamboo)\n  panda.paint(offscreenContextPanda)\n  bamboo.paint(onscreenContext)\n  panda.paint(onscreenContext)\n\n  onscreenContext.save()\n  onscreenContext.font = &#39;16px Arial&#39;;\n\n  if(isCollisions) {\n    onscreenContext.fillText(&#39;collision&#39;, 15, canvas.height - 10);\n  } else {\n    onscreenContext.fillText(&#39;通过↑↓←→键移动元素&#39;, 15, canvas.height - 10);\n  }\n  onscreenContext.restore()\n}\n\nimagePanda.onload = function() {\n  draw()\n}\n\nfunction keypressHandle(e) {\n  keyPress.keyPressed(e)\n  if(detectIntersection(panda, bamboo)) {\n    var intersectionRect = getIntersectionRect(panda, bamboo)\n    isCollisions = handleEgdeCollisions(intersectionRect)\n  }\n  draw()\n}\n\n\nimageBamboo.src = &#39;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAA+VBMVEUAAAD/23j/02qM3XCL4G2L4W6P53CM4G2M4W6K5HCL4W2L42z/3HeM4mz/33CM4G3/23iM4W3/3HiM4G7/23Z9yW6N4m2M4W7/3HeM4G2M4G7/02uM4W6L4G3/12+M4W18yG6O4219ym3/0mj/1mP/3Hj/0Gb/0Wf/02v/3Xj03Hf71G/mt1W00XJ8x219yG7/02p9yG7/0mr/02z/1Wv/3Hh7yW7/23iAx3D/3HiM4W7/z2V9yG7/tFD/0m6H2G7/2XOAzm6I225/zG7/1m6D022L3m59ym3/23b/02rE03P/0We+vl/O1HSezXHfuVfv1XLv1HH302/ZYKBeAAAAOXRSTlMAwMAQ8IAg0KEwcEDhUBC/gLCg79HPYF/w4N/bkMCvn4A/8Ocfv/z3uH9x9+zh4N/PsKackmBfQCBAJBT6AAADfElEQVR42u2be1ebMBiH01GggJVitV21tZfNbbr7fcTMCh2o3XSX7/9hphB8KU1PIeyEnZ48f5f8Ht6QnJQQxMnJkbvA7vE2EgnEg4JIg5bLYAeJY4sl8BCJ49JlgcRxwMrfQuJ4/y3i3E3TQgI5OI34nlKoIaEcnsacw/0L5l0scAX5onkSG8AQFM2jtEANieeBFJACUkAKSAEpIAU2WKCPbatSgR7GoFCFgIrv0LuVCSh1HLHfFS4AJQAFoQJQAlAQKwAlAIWmUAEoAWBbwgVQAy9ga6IFNJxhqIgUgBIAbVOsgIaXsJXyAsa4eAmAtlFCwGiqjo4xNjlKAAYKl8DYHNo4weKYC4BGUQHDHOo4TYdrLgCMAgJa12njDCoC+EqQW0AZrri8ZAnyChj73PmACZcGXoAjmvkENCg+oHMsjShTQsgMbmK9gM7KV1BRmpjikcRAzyWglssHBjjGJ/cGawVgDgl58wGtDn1ADawcr+mc6LEhJID8uoG4MHHGAGYS+rbYjdlGgHX3+xm5hTsfcLIG6uLr6ivGdkkD+1E8uQghnxelkTGIh8Fjmn966VIO72ughR6J833I5xcY9xcNJspd/lN6/1F+zBY1+LJH4wOoP0fsWFUdG0ZzymDv1uDZeQRj00oZkRgvxBRdKxRtDtO5bIPVm1ajCcRTBgrHY7/OwGWCPr2m8T5O6JmoGEY9j8Euc9Mq6fxpavppoqJogxwGL1kCc4hP0e5rqCDN+nqD+XL+NTz6Gexu0THQxwwCb+qDwc3891mKP9c3hDLzPC/wM2VQC5bBWh4I8eRy23QYG5AfX1P8JBlCnMGxUCHMbD9A27M8Aj5eYr/LMQcDAQEYAq9Go9HbvZmXSGIWZql+mHoXqwVepAex7/uYRb3wmOxk+iH0g+QWb+a/zlI83/kcG4B0hoFqoOIoKl7Cn04m5HrV9wuKwwjv9ZsK4kRrLLXWQejEZdBiTiO9RkdDQGkFJ+pH9lR8X7ZEQe9DeDkF2uLApO25TKDnLFVVOxb6h1iqaRn/0TckKxYkgli9JBMHe1EqljfZZblA2H9M8iO/oJACUkAKSAEpIAWkgBSQAlJACkgBKSAFpIAUkAJSYFMEKn9NV/VRr8PqDruxj/sdI3GwDzweIYF8qPrI526JQ6+bcey38k2ryo9+o1pFh9+Bj7VMfIsz/y/lvfIaf2yiCQAAAABJRU5ErkJggg==&#39;\nimagePanda.src = &#39;data:image/png;base64,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&#39;"};
    __preprocessorNames = {
      "html": "HTML",
      "css":  "CSS",
      "js":   "JS"
    };
    __pageType = "embed";
    __editable = false;
    __env = "prod";
  </script>

  <script src="./embed-530d0b718fdb8ad07ff215357b1acab0fa9237511d604c4c70cd752d1ee73460.js.下载"></script>





</body></html>